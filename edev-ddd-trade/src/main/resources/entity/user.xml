<?xml version="1.0" encoding="UTF-8"?>
<dobjs>
    <do class="com.edev.trade.authority.entity.User" tableName="t_user" subclassType="joined">
        <property name="id" column="id" isPrimaryKey="true"/>
        <property name="name" column="name"/>
        <property name="password" column="password"/>
        <property name="userType" column="user_type" isDiscriminator="true"/>
        <join name="authorities" joinKey="userId" joinType="manyToMany"
              joinClass="com.edev.trade.authority.entity.UserGrantedAuthority"
              class="com.edev.trade.authority.entity.Authority"/>
        <subclass class="com.edev.trade.authority.entity.Customer" value="customer"/>
        <subclass class="com.edev.trade.authority.entity.Staff" value="staff"/>
    </do>
    <do class="com.edev.trade.authority.entity.Customer" tableName="t_customer">
        <property name="id" column="id" isPrimaryKey="true"/>
        <property name="name" column="name"/>
        <property name="gender" column="gender"/>
        <property name="birthdate" column="birthdate"/>
        <property name="identification" column="identification"/>
        <property name="phoneNumber" column="phone_number"/>
    </do>
    <do class="com.edev.trade.authority.entity.Staff" tableName="t_staff">
        <property name="id" column="id" isPrimaryKey="true"/>
        <property name="name" column="name"/>
        <property name="gender" column="gender"/>
        <property name="position" column="position"/>
    </do>
    <do class="com.edev.trade.authority.entity.Role" tableName="t_role">
        <property name="id" column="id" isPrimaryKey="true"/>
        <property name="name" column="name"/>
        <property name="comment" column="comment"/>
        <join name="authorities" joinKey="roleId" joinType="manyToMany"
              joinClass="com.edev.trade.authority.entity.RoleGrantedAuthority"
              class="com.edev.trade.authority.entity.Authority"/>
    </do>
    <do class="com.edev.trade.authority.entity.UserRole" tableName="t_user_role">
        <property name="id" column="id" isPrimaryKey="true"/>
        <property name="available" column="available"/>
        <property name="userId" column="user_id"/>
        <property name="roleId" column="role_id"/>
    </do>
    <do class="com.edev.trade.authority.entity.Authority" tableName="t_authority">
        <property name="id" column="id" isPrimaryKey="true"/>
        <property name="name" column="name"/>
        <property name="available" column="available"/>
        <join name="users" joinKey="authorityId" joinType="manyToMany"
              joinClass="com.edev.trade.authority.entity.UserGrantedAuthority"
              class="com.edev.trade.authority.entity.User"/>
        <join name="roles" joinKey="authorityId" joinType="manyToMany"
              joinClass="com.edev.trade.authority.entity.RoleGrantedAuthority"
              class="com.edev.trade.authority.entity.Role"/>
    </do>
    <do class="com.edev.trade.authority.entity.UserGrantedAuthority" tableName="t_user_granted_authority">
        <property name="id" column="id" isPrimaryKey="true"/>
        <property name="available" column="available"/>
        <property name="userId" column="user_id"/>
        <property name="authorityId" column="authority_id"/>
    </do>
    <do class="com.edev.trade.authority.entity.RoleGrantedAuthority" tableName="t_role_granted_authority">
        <property name="id" column="id" isPrimaryKey="true"/>
        <property name="available" column="available"/>
        <property name="roleId" column="role_id"/>
        <property name="authorityId" column="authority_id"/>
    </do>
</dobjs>