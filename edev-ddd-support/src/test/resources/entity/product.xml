<?xml version="1.0" encoding="UTF-8"?>
<dobjs>
  <do class="com.edev.trade.product.entity.Product" tableName="Product">
    <property name="id" column="id" isPrimaryKey="true"/>
    <property name="name" column="name"/>
    <property name="price" column="price"/>
    <property name="unit" column="unit"/>
    <property name="classify" column="classify"/>
    <property name="supplierId" column="supplier_id"/>
    <property name="image" column="image"/>
    <property name="originalPrice" column="original_price"/>
    <property name="tip" column="tip"/>
    <ref name="supplier" refKey="supplier_id" refType="manyToOne"
         bean="com.edev.product.service.SupplierService"
         method="loadSupplier" listMethod="loadSuppliers"/>
  </do>
  <do class="com.edev.trade.product.entity.Supplier" subclassType="union">
    <property name="supplierType" column="supplier_type" isDiscriminator="true"/>
    <subclass class="com.edev.trade.product.entity.Distributor" value="distributor"/>
    <subclass class="com.edev.trade.product.entity.Vendor" value="vendor"/>
  </do>
  <do class="com.edev.trade.product.entity.Distributor" tableName="Distributor">
    <property name="id" column="id" isPrimaryKey="true"/>
    <property name="name" column="name"/>
    <property name="supplierType" column="supplier_type" isDiscriminator="true"/>
  </do>
  <do class="com.edev.trade.product.entity.Vendor" tableName="Vendor">
    <property name="id" column="id" isPrimaryKey="true"/>
    <property name="name" column="name"/>
    <property name="supplierType" column="supplier_type" isDiscriminator="true"/>
    <property name="distributorId" column="distributor_id"/>
    <join name="distributor" joinKey="distributor_id" joinType="manyToOne"
          class="com.edev.trade.product.entity.Distributor"/>
  </do>
</dobjs>